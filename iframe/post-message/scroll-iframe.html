<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="author" content="xgqfrms">
    <meta name="generator" content="VS code">
    <title>scroll-iframe</title>
    <style>
      section {
        width: 100vw;
        height: 100%;
        max-height: 600px;
        overflow-y: auto;
        background: #ccc;
        color: #fff;
      }
    </style>
</head>
<body>
    <header>
        <h1>scroll-iframe</h1>
    </header>
    <main>
        <section id="id">
            <p>child-iframe 1</p>
            <p>child-iframe 2</p>
            <p>child-iframe 3</p>
            <p>child-iframe 4</p>
            <p>child-iframe 5</p>
            <p>child-iframe 6</p>
            <p>child-iframe 7</p>
            <p>child-iframe 8</p>
            <p>child-iframe 9</p>
            <p>child-iframe 10</p>
            <p>child-iframe 11</p>
            <p>child-iframe 12</p>
            <p>child-iframe 13</p>
            <p>child-iframe 14</p>
            <p>child-iframe 15</p>
            <p>child-iframe 16</p>
            <p>child-iframe 17</p>
            <p>child-iframe 18</p>
            <p>child-iframe 19</p>
            <p>child-iframe 20</p>
            <p>child-iframe 21</p>
            <p>child-iframe 22</p>
            <p>child-iframe 23</p>
            <p>child-iframe 24</p>
            <p>child-iframe 25</p>
            <p>child-iframe 26</p>
            <p>child-iframe 27</p>
            <p>child-iframe 28</p>
            <p>child-iframe 29</p>
            <p>child-iframe 30</p>
            <p>child-iframe 31</p>
            <p>child-iframe 32</p>
            <p>child-iframe 33</p>
            <p>child-iframe 34</p>
            <p>child-iframe 35</p>
            <p>child-iframe 36</p>
            <p>child-iframe 37</p>
            <p>child-iframe 38</p>
            <p>child-iframe 39</p>
            <p>child-iframe 40</p>
            <p>child-iframe 41</p>
            <p>child-iframe 42</p>
            <p>child-iframe 43</p>
            <p>child-iframe 44</p>
            <p>child-iframe 45</p>
            <p>child-iframe 46</p>
            <p>child-iframe 47</p>
            <p>child-iframe 48</p>
            <p>child-iframe 49</p>
            <p>child-iframe 50</p>
            <p>child-iframe 51</p>
            <p>child-iframe 52</p>
            <p>child-iframe 53</p>
            <p>child-iframe 54</p>
            <p>child-iframe 55</p>
            <p>child-iframe 56</p>
            <p>child-iframe 57</p>
            <p>child-iframe 58</p>
            <p>child-iframe 59</p>
            <p>child-iframe 60</p>
            <p>child-iframe 61</p>
            <p>child-iframe 62</p>
            <p>child-iframe 63</p>
            <p>child-iframe 64</p>
            <p>child-iframe 65</p>
            <p>child-iframe 66</p>
            <p>child-iframe 67</p>
            <p>child-iframe 68</p>
            <p>child-iframe 69</p>
            <p>child-iframe 70</p>
            <p>child-iframe 71</p>
            <p>child-iframe 72</p>
            <p>child-iframe 73</p>
            <p>child-iframe 74</p>
            <p>child-iframe 75</p>
            <p>child-iframe 76</p>
            <p>child-iframe 77</p>
            <p>child-iframe 78</p>
            <p>child-iframe 79</p>
            <p>child-iframe 80</p>
            <p>child-iframe 81</p>
            <p>child-iframe 82</p>
            <p>child-iframe 83</p>
            <p>child-iframe 84</p>
            <p>child-iframe 85</p>
            <p>child-iframe 86</p>
            <p>child-iframe 87</p>
            <p>child-iframe 88</p>
            <p>child-iframe 89</p>
            <p>child-iframe 90</p>
            <p>child-iframe 91</p>
            <p>child-iframe 92</p>
            <p>child-iframe 93</p>
            <p>child-iframe 94</p>
            <p>child-iframe 95</p>
            <p>child-iframe 96</p>
            <p>child-iframe 97</p>
            <p>child-iframe 98</p>
            <p>child-iframe 99</p>
            <p>child-iframe 100</p>
        </section>
        <article></article>
    <main>
    <footer>
        <p>copyriht&copy; xgqfrms 2021</p>
    </footer>
    <script>
        const app = document.querySelector(`[id="app"]`);
        // console.log('\n target iframe', app);
        const autoScroll = (height) => {
               console.log('\nauto scroll');
//            if(app.scrollTop < app.scrollHeigh) {
//              app.scrollTop += height;
//            }
           app.scrollTop += height;
        };
          console.log('%cparent scroll message', 'background: #000; color: #0f0; font-size: 23px;');
          // console.log('\nparent scroll message???');
          window.addEventListener('message', (message) => {
              console.log('\nparent scroll message =', message);
              if(message.data.type=="iframeScrollEvent"){
                // message.height
                autoScroll(100);
              }
          });
    </script>
</body>
</html>
